<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Product Details 01</title>
    <link rel="stylesheet" href="../../css/bootstrap/bootstrap.css">
    <link rel="stylesheet" href="../../css/products.css">
    <script src="../../lib/jquery-2.1.4.js"></script>
</head>
<body>

    <div class="sbd_wrapper col-sm-8 col-sm-offset-2">

        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="sbd_armadyne_logo navbar-brand" href="#">Armadyne Logo</a>
                </div>

                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav">
                        <li class="sbd_products dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                Products
                                <span class="caret"></span>
                            </a>
                            <ul class="sbd_product_list dropdown-menu"></ul>
                        </li>
                        <li class="sbd_services dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                Services
                                <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a href="#">Action</a></li>
                                <li><a href="#">Another action</a></li>
                            </ul>
                        </li>
                        <li class="sbd_store"><a href="#"> Store </a></li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        <li class="sbd_login"><a href="#"> Login </a></li>
                        <li class="sbd_sign_up"><a href="#"> Sign-up </a></li>
                    </ul>
                </div><!-- /.navbar-collapse -->
            </div><!-- /.container-fluid -->
        </nav>

        <div class="sbd_breadcrumbs col-md-12">
            <div class="sbd_row row">
                <div class="sbd_home col-md-2"> Home </div>
                <div class="sbd_products col-md-2"> Products </div>
            </div>
        </div>

        <div class="sbd_main_body col-sm-12">
            <div class="sbd_pictures col-sm-7">
                <div class="sbd_row row">
                    <div class="sbd_main_photo col-sm-12">
                    </div>
                    <div class="row sbd_photo_selector">
                        <div class="sbd_carousel col-sm-12">
                            <img src="../../img/quadcopters/L6052/L6052_yellow_01.png">
                            <img src="../../img/quadcopters/L6052/L6052_yellow_02.png">
                        </div>
                    </div>
                </div>
            </div>
            <div class="sbd_description col-sm-5">
                Description
                <div class="sbd_row row">
                    <div class="sbd_product_name"> Name: L6052 </div>
                    <div class="sbd_product_price"> Price: $50.00 </div>
                </div>
                <div class="sbd_row row">
                    <div class="sbd_features"> Features:
                        <ul class="sbd_feature_information"></ul>
                    </div>
                </div>
                <div class="sbd_row row">
                <!--
                    <div class="sbd_packages"> Packages </div>
                -->
                    <div class="sbd_order col-sm-12">
                        <div class="sbd_quantity col-sm-2 col-sm-offset-1"> Qty: </div>
                        <div class="sbd_add_to_cart col-sm-3 col-sm-offset-1">
                            <button type="button" class="btn btn-default"> Add To Cart</button>
                        </div>
                        <div class="sbd_buy_now col-sm-2 col-sm-offset-1">
                            <button type="button" class="btn btn-default"> Buy Now </button>
                        </div>
                    </div>
                    <div class="sbd_shipping_time"> Available to ship: </div>
                </div>
            </div>
        </div>

        <ul class="sbd_tabs nav nav-tabs col-sm-12">
            <li class="col-sm-3"><a href="#sbd_overview"><div class="sbd_overview"> Overview </div></a></li>
            <li class="col-sm-3"><a href="#sbd_tech_specs"><div class="sbd_tech_specs"> Tech Specs </div></a></li>
            <li class="col-sm-3"><a href="#sbd_in_the_box"><div class="sbd_in_the_box"> In The Box </div></a></li>
            <li class="col-sm-3"><a href="#sbd_faq"><div class="sbd_faq"> FAQ </div></a></li>
        </ul>

        <div class="sbd_information col-sm-12">
            <div class="tab-content">
                <div id="sbd_overview" class="tab-pane fade in active">
                    <div class="sbd_overview_left col-sm-9">
                        <img src="../../img/dji/dummy1.jpg">
                    </div>
                    <div class="sbd_overview_right col-sm-3">
                        Random Video
                    </div>
                </div>

                <div id="sbd_tech_specs" class="tab-pane fade">
                    <div class="sbd_row row">
                        <div class="sbd_tech_specs_01">
                            <div class="sbd_tech_specs_01_left col-sm-3"><h4> Aircraft </h4></div>
                            <div class="sbd_tech_specs_01_right col-sm-9"> Flight Time: 7-8min. </div>
                        </div>
                    </div>
                    <div class="sbd_row row">
                        <div class="sbd_tech_specs_02">
                            <div class="sbd_tech_specs_02_left col-sm-3"><h4> Camera </h4></div>
                            <div class="sbd_tech_specs_02_right col-sm-9"> Sensor: 0.3M </div>
                        </div>
                    </div>
                    <div class="sbd_row row">
                        <div class="sbd_tech_specs_03">
                            <div class="sbd_tech_specs_03_left col-sm-3"><h4> Charger </h4></div>
                            <div class="sbd_tech_specs_03_right col-sm-9"> Charge Time: 30min. </div>
                        </div>
                    </div>
                </div>

                <div id="sbd_in_the_box" class="tab-pane fade">
                    <img src="../../img/dji/dummy2.jpg">
                </div>

                <div id="sbd_faq" class="tab-pane fade">
                    Blah blah blah blah blah
                </div>
            </div>
        </div>

        <div class="sbd_recommended col-sm-12"> Recommended </div>

        <div class="sbd_footer col-sm-12">
            Footer
            <div class="sbd_row row">
                <div class="sbd_products col-md-2"> Products </div>
                <div class="sbd_services col-md-2"> Support </div>
                <div class="sbd_store col-md-2"> Where to Buy</div>
                <div class="sbd_pay_pal col-md-2"> Pay Pal</div>
            </div>
        </div>

        <div class="sbd_footer_2 col-sm-12">
            <div class="sbd_row row">
                <div class="sbd_armadyne_logo col-sm-4"> Logo </div>
                <div class="sbd_copyright col-sm-4"> Copy Right </div>
                <div class="sbd_social_media col-sm-4"> Social Media</div>
            </div>
        </div>
    </div>

    <script src="../../js/bootstrap.js"></script>

    <script>

        var productID = 100000001;

        var getProducts = function(callback) {
            var products;
            if (products === undefined) {
                $.getJSON('../../json/products.json', function (data) {
                    products = data;
                    callback(products);
                });
            }else{
                callback(products);
            }
        };

        getProducts(function(productList) {
            console.log(productList);
            var previousGroup = "";
            var products = productList.map(function(item) {
                var myHtml = "";
                if (item.product_group !== previousGroup) {
                    previousGroup = item.product_group;
                    myHtml += '<li role="separator" class="divider">' + '</li>';
                }
                myHtml += '<li>' + '<a href="#">' + item.product_name + '</a>' +'</li>';
                return myHtml;
            });
            $('.sbd_product_list').html(products.join(""));
        });

        /*
                var productID = 1001;
                var getProductList = function(productID, callback){
                    var previousGroup = "";
                    $.getJSON('../../json/products.json', function(data) {
                        var products = data.map(function(item) {
                            var myHtml = "";
                            if (item.group !== previousGroup) {
                                previousGroup = item.group;
                                myHtml += '<li role="separator" class="divider">' + '</li>';
                            }
                            myHtml += '<li>' + '<a href="#">' + item.name + '</a>' +'</li>';
                            return myHtml;
                        });
                        $('.sbd_product_list').html(products.join(""));
                    });
                };
                getProductList();
        */

        var getPictures = function(productID, callback) {
            var arrayPictures = [];
            $.getJSON('../../json/pictures.json', function(data){
                arrayPictures = data;
                var pictures = data.filter(function(item){
                    return item.id === productID;
                });
                callback(pictures);
            });
        };
        getPictures(100000001, function(pictures){
           console.log(pictures);
            var myHtml = pictures.map(function(item){
               return '<img src="../../img/quadcopters/' + item.picture_name + '/' + item.file_name + '">';
            });
            $('.sbd_main_photo').html(myHtml);
            $('.sbd_main_photo img').css('height', '');
        });

        var listPictures = function(productID, callback){
            $.getJSON('../../json/pictures.json', function(data) {
                var pictures = data.filter(function(item) {
                    return item.parent_id === productID;
                });
                callback(pictures);
            });
        };
        listPictures(100000001, function(pictures){
            console.log(pictures);
            var myHtml = pictures.map(function(item){
                return '<img src="../../img/quadcopters/' + item.picture_name + '/' + item.file_name + '">';
            });
            $('.sbd_carousel').html(myHtml);
        });

        function img_switch(source){
            $('.sbd_main_photo').attr('src', source);
        }

        $('.sbd_tabs a').click(function (e) {
            e.preventDefault();
            $(this).tab('show')
        });

        var getFeatures = function(productID, callback){
            $.getJSON('../../json/features.json', function(data) {
                var features = data.filter(function(item) {
                    return item.id === productID;
                });
                callback(features);
            });
        };
        getFeatures(100000001, function(features){
            console.log(features);
            var myHtml = features.map(function(item){
                return '<li>' + item.information + '</li>';
            });
            $('.sbd_feature_information').html(myHtml.join(""));
        });

    </script>

</body>
</html>