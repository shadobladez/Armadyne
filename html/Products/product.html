<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Product Details 01</title>
    <link rel="stylesheet" href="../css/bootstrap/bootstrap.css">
    <link rel="stylesheet" href="../css/products.css">
    <script src="../lib/jquery-2.1.4.js"></script>
</head>
<body>

    <div class="sbd_wrapper col-sm-8 col-sm-offset-2">

        <div class="sbd_main_header"></div>

        <div class="sbd_breadcrumbs col-md-12">
            <div class="sbd_row row">
                <div class="sbd_home col-md-2"> Home </div>
                <div class="sbd_products col-md-2"> Products </div>
            </div>
        </div>

        <div class="sbd_main_body col-sm-12">
            <div class="sbd_pictures col-sm-7">
                <div class="sbd_row row">
                    <div class="sbd_main_photo col-sm-12">
                    </div>
                    <div class="row sbd_photo_selector">
                        <div class="sbd_carousel col-sm-12">
                            <img src="../img/quadcopters/L6052/L6052_yellow_01.png">
                            <img src="../img/quadcopters/L6052/L6052_yellow_02.png">
                        </div>
                    </div>
                </div>
            </div>
            <div class="sbd_description col-sm-5">
                Description
                <div class="sbd_row row">
                    <div class="sbd_product_name"> Name: L6052 </div>
                    <div class="sbd_product_price"> Price: $50.00 </div>
                </div>
                <div class="sbd_row row">
                    <div class="sbd_features"> Features:
                        <ul class="sbd_feature_information"></ul>
                    </div>
                </div>
                <div class="sbd_row row">
                <!--
                    <div class="sbd_packages"> Packages </div>
                -->
                    <div class="sbd_order col-sm-12">
                        <div class="sbd_quantity col-sm-2 col-sm-offset-1"> Qty: </div>
                        <div class="sbd_add_to_cart col-sm-3 col-sm-offset-1">
                            <button type="button" class="btn btn-default" data-toggle="modal" data-target=".sbd_added_to_cart"> Added To Cart </button>
                        </div>

                        <div class="modal fade sbd_added_to_cart" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
                            <div class="modal-dialog modal-lg">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button class="close" data-dismiss="modal" type="button">
                                            <span aria-hidden="true"> Ã—</span>
                                            <span class="sr-only">Close</span>
                                        </button>
                                        <h4 class="modal-title"> Added To Cart </h4>
                                    </div>
                                    <div class="modal-body">
                                        <div class="row">
                                            <div class="col-xs-12 add-to-tip">
                                                <div class="alert alert-success">
                                                    <i class="fa fa-check-circle"></i>
                                                    <span>You have added this item to your cart</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xs-8 horizontal_center vertical_center">
                                                <div class="row">
                                                    <div class="col-xs-3">
                                                        <img alt="Phantom 3 Professional with Extra Battery" class="img-product" src="#">
                                                    </div>
                                                    <div class="col-xs-9">
                                                        <span class="cart-product-name">Phantom 3 Professional with Extra Battery</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xs-4 horizontal_center vertical_center text-right">
                                                <small class="land-product price-normal cart-product-price">2&nbsp;x&nbsp;USD $1,339</small>
                                            </div>
                                        </div>
                                        <div class="view-bar">
                                            <a class="btn btn-default" data-dismiss="modal"> Continue Shopping</a>
                                            <a class="btn btn-default" href="#"> Continue To Checkout</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="sbd_buy_now col-sm-2 col-sm-offset-1">
                            <button type="button" class="btn btn-default"> Buy Now </button>
                        </div>
                    </div>
                    <div class="sbd_shipping_time"> Available to ship: </div>
                </div>
            </div>
        </div>

        <ul class="sbd_tabs nav nav-tabs col-sm-12">
            <li class="col-sm-3"><a href="#sbd_overview"><div class="sbd_overview"> Overview </div></a></li>
            <li class="col-sm-3"><a href="#sbd_tech_specs"><div class="sbd_tech_specs"> Tech Specs </div></a></li>
            <li class="col-sm-3"><a href="#sbd_in_the_box"><div class="sbd_in_the_box"> In The Box </div></a></li>
            <li class="col-sm-3"><a href="#sbd_faq"><div class="sbd_faq"> FAQ </div></a></li>
        </ul>

        <div class="sbd_information col-sm-12">
            <div class="tab-content">
                <div id="sbd_overview" class="tab-pane fade in active">
                    <div class="sbd_overview_left col-sm-9">
                        <img src="../img/dji/dummy1.jpg">
                    </div>
                    <div class="sbd_overview_right col-sm-3">
                        Random Video
                    </div>
                </div>

                <div id="sbd_tech_specs" class="tab-pane fade">
                    <div class="sbd_row row">
                        <div class="sbd_tech_specs_01">
                            <div class="sbd_tech_specs_01_left col-sm-3"><h4> Aircraft </h4></div>
                            <div class="sbd_tech_specs_01_right col-sm-9"> Flight Time: 7-8min. </div>
                        </div>
                    </div>
                    <div class="sbd_row row">
                        <div class="sbd_tech_specs_02">
                            <div class="sbd_tech_specs_02_left col-sm-3"><h4> Camera </h4></div>
                            <div class="sbd_tech_specs_02_right col-sm-9"> Sensor: 0.3M </div>
                        </div>
                    </div>
                    <div class="sbd_row row">
                        <div class="sbd_tech_specs_03">
                            <div class="sbd_tech_specs_03_left col-sm-3"><h4> Charger </h4></div>
                            <div class="sbd_tech_specs_03_right col-sm-9"> Charge Time: 30min. </div>
                        </div>
                    </div>
                </div>

                <div id="sbd_in_the_box" class="tab-pane fade">
                    <img src="../img/dji/dummy2.jpg">
                </div>

                <div id="sbd_faq" class="tab-pane fade">
                    Blah blah blah blah blah
                </div>
            </div>
        </div>

        <div class="sbd_recommended col-sm-12"> Recommended </div>


    <div class="sbd-footer">
        <div class="sbd_main_footer"></div>
    </div>

    <script src="../js/bootstrap.js"></script>

    <script>
        $('.sbd_main_header').load('../Header/sbd_bootstrap_header.html');
        $('.sbd_main_footer').load('../Footer/sbd_bootstrap_footer.html');

    </script>

    <script>

        var productID = 100000001;

        var getProducts = function(callback) {
            var products;
            if (products === undefined) {
                $.getJSON('../json/products.json', function (data) {
                    products = data;
                    callback(products);
                });
            }else{
                callback(products);
            }
        };

        getProducts(function(productList) {
            console.log(productList);
            var previousGroup = "";
            var products = productList.map(function(item) {
                var myHtml = "";
                if (item.product_group !== previousGroup) {
                    previousGroup = item.product_group;
                    myHtml += '<li role="separator" class="divider">' + '</li>';
                }
                myHtml += '<li>' + '<a href="#">' + item.product_name + '</a>' +'</li>';
                return myHtml;
            });
            $('.sbd_product_list').html(products.join(""));
        });

        /*
                var productID = 1001;
                var getProductList = function(productID, callback){
                    var previousGroup = "";
                    $.getJSON('../../json/products.json', function(data) {
                        var products = data.map(function(item) {
                            var myHtml = "";
                            if (item.group !== previousGroup) {
                                previousGroup = item.group;
                                myHtml += '<li role="separator" class="divider">' + '</li>';
                            }
                            myHtml += '<li>' + '<a href="#">' + item.name + '</a>' +'</li>';
                            return myHtml;
                        });
                        $('.sbd_product_list').html(products.join(""));
                    });
                };
                getProductList();
        */

        var getPictures = function(productID, callback) {
            var arrayPictures = [];
            $.getJSON('../json/pictures.json', function(data){
                arrayPictures = data;
                var pictures = data.filter(function(item){
                    return item.id === productID;
                });
                callback(pictures);
            });
        };
        getPictures(100000001, function(pictures){
           console.log(pictures);
            var myHtml = pictures.map(function(item){
               return '<img src="../img/quadcopters/' + item.picture_name + '/' + item.file_name + '">';
            });
            $('.sbd_main_photo').html(myHtml);
            $('.sbd_main_photo img').css('height', '');
        });

        var listPictures = function(productID, callback){
            $.getJSON('../json/pictures.json', function(data) {
                var pictures = data.filter(function(item) {
                    return item.parent_id === productID;
                });
                callback(pictures);
            });
        };
        listPictures(100000001, function(pictures){
            console.log(pictures);
            var myHtml = pictures.map(function(item){
                return '<img src="../img/quadcopters/' + item.picture_name + '/' + item.file_name + '">';
            });
            $('.sbd_carousel').html(myHtml);
        });

        function img_switch(source){
            $('.sbd_main_photo').attr('src', source);
        }

        $('.sbd_tabs a').click(function (e) {
            e.preventDefault();
            $(this).tab('show')
        });

        var getFeatures = function(productID, callback){
            $.getJSON('../json/features.json', function(data) {
                var features = data.filter(function(item) {
                    return item.id === productID;
                });
                callback(features);
            });
        };
        getFeatures(100000001, function(features){
            console.log(features);
            var myHtml = features.map(function(item){
                return '<li>' + item.information + '</li>';
            });
            $('.sbd_feature_information').html(myHtml.join(""));
        });

    </script>

</body>
</html>